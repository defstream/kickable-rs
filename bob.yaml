project: bob.build/defstream/kickable-rs
nixpkgs: https://github.com/NixOS/nixpkgs/archive/refs/tags/22.05.tar.gz

build:
 clippy:
   cmd: rustup -q component add clippy
   dependencies:
     - libiconv
     - rustup

 lint:
   cmd: |-
     cargo fmt --all -- --check
     cargo clippy -- -D warnings
   dependsOn:
     - clippy
   dependencies:
     - libiconv
     - rustup

 test:
   cmd: |-
     cargo test --verbose --release --all-targets --all-features 
   dependencies:
     - libiconv
     - rustup

 build:
    cmd: |-
      cargo build --verbose --release --all-targets --all-features --bin kickable
    target: target/release/kickable
    dependencies:
      - libiconv
      - rustup

    dependsOn:
      - lint
      - test
